{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/defineProperty","data":{"isAsync":false}},{"name":"../actions/cart","data":{"isAsync":false}},{"name":"../actions/orders","data":{"isAsync":false}},{"name":"../../models/cart-item","data":{"isAsync":false}},{"name":"../actions/products","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n\n  var _defineProperty2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/defineProperty\"));\n\n  var _cart = _$$_REQUIRE(_dependencyMap[2], \"../actions/cart\");\n\n  var _orders = _$$_REQUIRE(_dependencyMap[3], \"../actions/orders\");\n\n  var _cartItem = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[4], \"../../models/cart-item\"));\n\n  var _products = _$$_REQUIRE(_dependencyMap[5], \"../actions/products\");\n\n  function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n  var initialState = {\n    items: {},\n    totalAmount: 0\n  };\n\n  var _default = function _default() {\n    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n    var action = arguments.length > 1 ? arguments[1] : undefined;\n\n    switch (action.type) {\n      case _cart.ADD_TO_CART:\n        var addedProduct = action.product;\n        var prodPrice = addedProduct.price;\n        var prodTitle = addedProduct.title;\n        var updatedOrNewCartItem;\n\n        if (state.items[addedProduct.id]) {\n          updatedOrNewCartItem = new _cartItem.default(state.items[addedProduct.id].quantity + 1, prodPrice, prodTitle, state.items[addedProduct.id].sum + prodPrice);\n        } else {\n          updatedOrNewCartItem = new _cartItem.default(1, prodPrice, prodTitle, prodPrice);\n        }\n\n        return _objectSpread(_objectSpread({}, state), {}, {\n          items: _objectSpread(_objectSpread({}, state.items), {}, (0, _defineProperty2.default)({}, addedProduct.id, updatedOrNewCartItem)),\n          totalAmount: state.totalAmount + prodPrice\n        });\n\n      case _cart.REMOVE_FROM_CART:\n        var selectedCartItem = state.items[action.pid];\n        var currentQty = selectedCartItem.quantity;\n        var updatedCartItems;\n\n        if (currentQty > 1) {\n          var updatedCartItem = new _cartItem.default(selectedCartItem.quantity - 1, selectedCartItem.productPrice, selectedCartItem.productTitle, selectedCartItem.sum - selectedCartItem.productPrice);\n          updatedCartItems = _objectSpread(_objectSpread({}, state.items), {}, (0, _defineProperty2.default)({}, action.pid, updatedCartItem));\n        } else {\n          updatedCartItems = _objectSpread({}, state.items);\n          delete updatedCartItems[action.pid];\n        }\n\n        return _objectSpread(_objectSpread({}, state), {}, {\n          items: updatedCartItems,\n          totalAmount: state.totalAmount - selectedCartItem.productPrice\n        });\n\n      case _orders.ADD_ORDER:\n        return initialState;\n\n      case _products.DELETE_PRODUCT:\n        if (!state.items[action.pid]) {\n          return state;\n        }\n\n        var updatedItems = _objectSpread({}, state.items);\n\n        var itemTotal = state.items[action.pid].sum;\n        delete updatedItems[action.pid];\n        return _objectSpread(_objectSpread({}, state), {}, {\n          items: updatedItems,\n          totalAmount: state.totalAmount - itemTotal\n        });\n    }\n\n    return state;\n  };\n\n  exports.default = _default;\n});","lineCount":90,"map":[[11,0,1,0],[13,0,2,0],[15,0,3,0],[17,0,4,0],[23,0,6,0],[23,6,6,6,"initialState"],[23,18,6,18],[23,21,6,21],[24,0,7,2,"items"],[24,4,7,2,"items"],[24,9,7,7],[24,11,7,9],[24,13,6,21],[25,0,8,2,"totalAmount"],[25,4,8,2,"totalAmount"],[25,15,8,13],[25,17,8,15],[26,0,6,21],[26,3,6,0],[28,17,11,15],[28,37,11,49],[29,0,11,49],[29,8,11,16,"state"],[29,13,11,49],[29,84,11,24,"initialState"],[29,96,11,49],[30,0,11,49],[30,8,11,38,"action"],[30,14,11,49],[32,0,12,2],[32,12,12,10,"action"],[32,18,12,16],[32,19,12,17,"type"],[32,23,12,2],[33,0,13,4],[33,11,13,9,"ADD_TO_CART"],[33,28,13,4],[34,0,14,6],[34,12,14,12,"addedProduct"],[34,24,14,24],[34,27,14,27,"action"],[34,33,14,33],[34,34,14,34,"product"],[34,41,14,6],[35,0,15,6],[35,12,15,12,"prodPrice"],[35,21,15,21],[35,24,15,24,"addedProduct"],[35,36,15,36],[35,37,15,37,"price"],[35,42,15,6],[36,0,16,6],[36,12,16,12,"prodTitle"],[36,21,16,21],[36,24,16,24,"addedProduct"],[36,36,16,36],[36,37,16,37,"title"],[36,42,16,6],[37,0,18,6],[37,12,18,10,"updatedOrNewCartItem"],[37,32,18,6],[39,0,20,6],[39,12,20,10,"state"],[39,17,20,15],[39,18,20,16,"items"],[39,23,20,10],[39,24,20,22,"addedProduct"],[39,36,20,34],[39,37,20,35,"id"],[39,39,20,10],[39,40,20,6],[39,42,20,40],[40,0,22,8,"updatedOrNewCartItem"],[40,10,22,8,"updatedOrNewCartItem"],[40,30,22,28],[40,33,22,31],[40,37,22,35,"CartItem"],[40,54,22,31],[40,55,23,10,"state"],[40,60,23,15],[40,61,23,16,"items"],[40,66,23,10],[40,67,23,22,"addedProduct"],[40,79,23,34],[40,80,23,35,"id"],[40,82,23,10],[40,84,23,39,"quantity"],[40,92,23,10],[40,95,23,50],[40,96,22,31],[40,98,24,10,"prodPrice"],[40,107,22,31],[40,109,25,10,"prodTitle"],[40,118,22,31],[40,120,26,10,"state"],[40,125,26,15],[40,126,26,16,"items"],[40,131,26,10],[40,132,26,22,"addedProduct"],[40,144,26,34],[40,145,26,35,"id"],[40,147,26,10],[40,149,26,39,"sum"],[40,152,26,10],[40,155,26,45,"prodPrice"],[40,164,22,31],[40,165,22,8],[41,0,28,7],[41,9,20,6],[41,15,28,13],[42,0,29,8,"updatedOrNewCartItem"],[42,10,29,8,"updatedOrNewCartItem"],[42,30,29,28],[42,33,29,31],[42,37,29,35,"CartItem"],[42,54,29,31],[42,55,29,44],[42,56,29,31],[42,58,29,47,"prodPrice"],[42,67,29,31],[42,69,29,58,"prodTitle"],[42,78,29,31],[42,80,29,69,"prodPrice"],[42,89,29,31],[42,90,29,8],[43,0,30,7],[45,0,31,6],[45,47,32,11,"state"],[45,52,31,6],[46,0,33,8,"items"],[46,10,33,8,"items"],[46,15,33,13],[46,49,33,20,"state"],[46,54,33,25],[46,55,33,26,"items"],[46,60,33,13],[46,101,33,34,"addedProduct"],[46,113,33,46],[46,114,33,47,"id"],[46,116,33,13],[46,118,33,52,"updatedOrNewCartItem"],[46,138,33,13],[46,140,31,6],[47,0,34,8,"totalAmount"],[47,10,34,8,"totalAmount"],[47,21,34,19],[47,23,34,21,"state"],[47,28,34,26],[47,29,34,27,"totalAmount"],[47,40,34,21],[47,43,34,41,"prodPrice"],[48,0,31,6],[50,0,36,4],[50,11,36,9,"REMOVE_FROM_CART"],[50,33,36,4],[51,0,37,6],[51,12,37,12,"selectedCartItem"],[51,28,37,28],[51,31,37,31,"state"],[51,36,37,36],[51,37,37,37,"items"],[51,42,37,31],[51,43,37,43,"action"],[51,49,37,49],[51,50,37,50,"pid"],[51,53,37,31],[51,54,37,6],[52,0,38,6],[52,12,38,12,"currentQty"],[52,22,38,22],[52,25,38,25,"selectedCartItem"],[52,41,38,41],[52,42,38,42,"quantity"],[52,50,38,6],[53,0,39,6],[53,12,39,10,"updatedCartItems"],[53,28,39,6],[55,0,40,6],[55,12,40,10,"currentQty"],[55,22,40,20],[55,25,40,23],[55,26,40,6],[55,28,40,26],[56,0,42,8],[56,14,42,14,"updatedCartItem"],[56,29,42,29],[56,32,42,32],[56,36,42,36,"CartItem"],[56,53,42,32],[56,54,43,10,"selectedCartItem"],[56,70,43,26],[56,71,43,27,"quantity"],[56,79,43,10],[56,82,43,38],[56,83,42,32],[56,85,44,10,"selectedCartItem"],[56,101,44,26],[56,102,44,27,"productPrice"],[56,114,42,32],[56,116,45,10,"selectedCartItem"],[56,132,45,26],[56,133,45,27,"productTitle"],[56,145,42,32],[56,147,46,10,"selectedCartItem"],[56,163,46,26],[56,164,46,27,"sum"],[56,167,46,10],[56,170,46,33,"selectedCartItem"],[56,186,46,49],[56,187,46,50,"productPrice"],[56,199,42,32],[56,200,42,8],[57,0,48,8,"updatedCartItems"],[57,10,48,8,"updatedCartItems"],[57,26,48,24],[57,61,48,32,"state"],[57,66,48,37],[57,67,48,38,"items"],[57,72,48,24],[57,113,48,46,"action"],[57,119,48,52],[57,120,48,53,"pid"],[57,123,48,24],[57,125,48,59,"updatedCartItem"],[57,140,48,24],[57,142,48,8],[58,0,49,7],[58,9,40,6],[58,15,49,13],[59,0,50,8,"updatedCartItems"],[59,10,50,8,"updatedCartItems"],[59,26,50,24],[59,47,50,32,"state"],[59,52,50,37],[59,53,50,38,"items"],[59,58,50,24],[59,59,50,8],[60,0,51,8],[60,17,51,15,"updatedCartItems"],[60,33,51,31],[60,34,51,32,"action"],[60,40,51,38],[60,41,51,39,"pid"],[60,44,51,31],[60,45,51,8],[61,0,52,7],[63,0,53,6],[63,47,54,11,"state"],[63,52,53,6],[64,0,55,8,"items"],[64,10,55,8,"items"],[64,15,55,13],[64,17,55,15,"updatedCartItems"],[64,33,53,6],[65,0,56,8,"totalAmount"],[65,10,56,8,"totalAmount"],[65,21,56,19],[65,23,56,21,"state"],[65,28,56,26],[65,29,56,27,"totalAmount"],[65,40,56,21],[65,43,56,41,"selectedCartItem"],[65,59,56,57],[65,60,56,58,"productPrice"],[66,0,53,6],[68,0,58,4],[68,11,58,9,"ADD_ORDER"],[68,28,58,4],[69,0,59,6],[69,15,59,13,"initialState"],[69,27,59,6],[71,0,60,4],[71,11,60,9,"DELETE_PRODUCT"],[71,35,60,4],[72,0,61,6],[72,12,61,10],[72,13,61,11,"state"],[72,18,61,16],[72,19,61,17,"items"],[72,24,61,11],[72,25,61,23,"action"],[72,31,61,29],[72,32,61,30,"pid"],[72,35,61,11],[72,36,61,6],[72,38,61,36],[73,0,62,8],[73,17,62,15,"state"],[73,22,62,8],[74,0,63,7],[76,0,64,6],[76,12,64,12,"updatedItems"],[76,24,64,24],[76,45,64,32,"state"],[76,50,64,37],[76,51,64,38,"items"],[76,56,64,24],[76,57,64,6],[78,0,65,6],[78,12,65,12,"itemTotal"],[78,21,65,21],[78,24,65,24,"state"],[78,29,65,29],[78,30,65,30,"items"],[78,35,65,24],[78,36,65,36,"action"],[78,42,65,42],[78,43,65,43,"pid"],[78,46,65,24],[78,48,65,48,"sum"],[78,51,65,6],[79,0,66,6],[79,15,66,13,"updatedItems"],[79,27,66,25],[79,28,66,26,"action"],[79,34,66,32],[79,35,66,33,"pid"],[79,38,66,25],[79,39,66,6],[80,0,67,6],[80,47,68,11,"state"],[80,52,67,6],[81,0,69,8,"items"],[81,10,69,8,"items"],[81,15,69,13],[81,17,69,15,"updatedItems"],[81,29,67,6],[82,0,70,8,"totalAmount"],[82,10,70,8,"totalAmount"],[82,21,70,19],[82,23,70,21,"state"],[82,28,70,26],[82,29,70,27,"totalAmount"],[82,40,70,21],[82,43,70,41,"itemTotal"],[83,0,67,6],[84,0,12,2],[86,0,74,2],[86,11,74,9,"state"],[86,16,74,2],[87,0,75,1],[87,3]],"functionMap":{"names":["<global>","<anonymous>"],"mappings":"AAA;eCU;CDgE"}},"type":"js/module"}]}