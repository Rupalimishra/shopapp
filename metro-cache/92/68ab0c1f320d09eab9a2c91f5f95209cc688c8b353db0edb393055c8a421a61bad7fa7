{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/createClass","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/inherits","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/possibleConstructorReturn","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/getPrototypeOf","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/defineProperty","data":{"isAsync":false}},{"name":"react-native","data":{"isAsync":false}},{"name":"./AnimatedNode","data":{"isAsync":false}},{"name":"./AnimatedTransform","data":{"isAsync":false}},{"name":"fbjs/lib/areEqual","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.createOrReuseStyleNode = createOrReuseStyleNode;\n  exports.default = void 0;\n\n  var _classCallCheck2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\"));\n\n  var _createClass2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/createClass\"));\n\n  var _inherits2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"@babel/runtime/helpers/inherits\"));\n\n  var _possibleConstructorReturn2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[4], \"@babel/runtime/helpers/possibleConstructorReturn\"));\n\n  var _getPrototypeOf2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[5], \"@babel/runtime/helpers/getPrototypeOf\"));\n\n  var _defineProperty2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[6], \"@babel/runtime/helpers/defineProperty\"));\n\n  var _reactNative = _$$_REQUIRE(_dependencyMap[7], \"react-native\");\n\n  var _AnimatedNode2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[8], \"./AnimatedNode\"));\n\n  var _AnimatedTransform = _$$_REQUIRE(_dependencyMap[9], \"./AnimatedTransform\");\n\n  var _areEqual = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[10], \"fbjs/lib/areEqual\"));\n\n  function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\n  function _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n  function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n  function sanitizeStyle(inputStyle) {\n    var style = {};\n\n    for (var key in inputStyle) {\n      var value = inputStyle[key];\n\n      if (value instanceof _AnimatedNode2.default) {\n        style[key] = value.__nodeID;\n      }\n    }\n\n    return style;\n  }\n\n  function createOrReuseStyleNode(style, oldNode) {\n    style = _reactNative.StyleSheet.flatten(style) || {};\n\n    if (style.transform) {\n      style = _objectSpread(_objectSpread({}, style), {}, {\n        transform: (0, _AnimatedTransform.createOrReuseTransformNode)(style.transform, oldNode && oldNode._style.transform)\n      });\n    }\n\n    var config = sanitizeStyle(style);\n\n    if (oldNode && (0, _areEqual.default)(config, oldNode._config)) {\n      return oldNode;\n    }\n\n    return new AnimatedStyle(style, config);\n  }\n\n  var AnimatedStyle = function (_AnimatedNode) {\n    (0, _inherits2.default)(AnimatedStyle, _AnimatedNode);\n\n    var _super = _createSuper(AnimatedStyle);\n\n    function AnimatedStyle(style, config) {\n      var _this;\n\n      (0, _classCallCheck2.default)(this, AnimatedStyle);\n      _this = _super.call(this, {\n        type: 'style',\n        style: config\n      }, Object.values(style));\n      _this._config = config;\n      _this._style = style;\n      return _this;\n    }\n\n    (0, _createClass2.default)(AnimatedStyle, [{\n      key: \"toString\",\n      value: function toString() {\n        return \"AnimatedStyle, id: \" + this.__nodeID;\n      }\n    }, {\n      key: \"_walkStyleAndGetAnimatedValues\",\n      value: function _walkStyleAndGetAnimatedValues(style) {\n        var updatedStyle = {};\n\n        for (var key in style) {\n          var value = style[key];\n\n          if (value instanceof _AnimatedNode2.default) {\n            updatedStyle[key] = value.__getValue();\n          } else if (value && !Array.isArray(value) && typeof value === 'object') {\n            updatedStyle[key] = this._walkStyleAndGetAnimatedValues(value);\n          }\n        }\n\n        return updatedStyle;\n      }\n    }, {\n      key: \"__onEvaluate\",\n      value: function __onEvaluate() {\n        return this._walkStyleAndGetAnimatedValues(this._style);\n      }\n    }]);\n    return AnimatedStyle;\n  }(_AnimatedNode2.default);\n\n  exports.default = AnimatedStyle;\n});","lineCount":120,"map":[[22,0,1,0],[24,0,3,0],[26,0,4,0],[28,0,6,0],[38,0,8,0],[38,11,8,9,"sanitizeStyle"],[38,24,8,0],[38,25,8,23,"inputStyle"],[38,35,8,0],[38,37,8,35],[39,0,9,2],[39,8,9,8,"style"],[39,13,9,13],[39,16,9,16],[39,18,9,2],[41,0,10,2],[41,9,10,7],[41,13,10,13,"key"],[41,16,10,2],[41,20,10,20,"inputStyle"],[41,30,10,2],[41,32,10,32],[42,0,11,4],[42,10,11,10,"value"],[42,15,11,15],[42,18,11,18,"inputStyle"],[42,28,11,28],[42,29,11,29,"key"],[42,32,11,28],[42,33,11,4],[44,0,12,4],[44,10,12,8,"value"],[44,15,12,13],[44,27,12,25,"AnimatedNode"],[44,49,12,4],[44,51,12,39],[45,0,13,6,"style"],[45,8,13,6,"style"],[45,13,13,11],[45,14,13,12,"key"],[45,17,13,11],[45,18,13,6],[45,21,13,19,"value"],[45,26,13,24],[45,27,13,25,"__nodeID"],[45,35,13,6],[46,0,14,5],[47,0,15,3],[49,0,16,2],[49,11,16,9,"style"],[49,16,16,2],[50,0,17,1],[52,0,19,7],[52,11,19,16,"createOrReuseStyleNode"],[52,33,19,7],[52,34,19,39,"style"],[52,39,19,7],[52,41,19,46,"oldNode"],[52,48,19,7],[52,50,19,55],[53,0,20,2,"style"],[53,4,20,2,"style"],[53,9,20,7],[53,12,20,10,"StyleSheet"],[53,36,20,21,"flatten"],[53,43,20,10],[53,44,20,29,"style"],[53,49,20,10],[53,54,20,39],[53,56,20,2],[55,0,21,2],[55,8,21,6,"style"],[55,13,21,11],[55,14,21,12,"transform"],[55,23,21,2],[55,25,21,23],[56,0,22,4,"style"],[56,6,22,4,"style"],[56,11,22,9],[56,46,23,9,"style"],[56,51,22,9],[57,0,24,6,"transform"],[57,8,24,6,"transform"],[57,17,24,15],[57,19,24,17],[57,70,25,8,"style"],[57,75,25,13],[57,76,25,14,"transform"],[57,85,24,17],[57,87,26,8,"oldNode"],[57,94,26,15],[57,98,26,19,"oldNode"],[57,105,26,26],[57,106,26,27,"_style"],[57,112,26,19],[57,113,26,34,"transform"],[57,122,24,17],[58,0,22,9],[58,8,22,4],[59,0,29,3],[61,0,30,2],[61,8,30,8,"config"],[61,14,30,14],[61,17,30,17,"sanitizeStyle"],[61,30,30,30],[61,31,30,31,"style"],[61,36,30,30],[61,37,30,2],[63,0,31,2],[63,8,31,6,"oldNode"],[63,15,31,13],[63,19,31,17],[63,42,31,27,"config"],[63,48,31,17],[63,50,31,35,"oldNode"],[63,57,31,42],[63,58,31,43,"_config"],[63,65,31,17],[63,66,31,2],[63,68,31,53],[64,0,32,4],[64,13,32,11,"oldNode"],[64,20,32,4],[65,0,33,3],[67,0,34,2],[67,11,34,9],[67,15,34,13,"AnimatedStyle"],[67,28,34,9],[67,29,34,27,"style"],[67,34,34,9],[67,36,34,34,"config"],[67,42,34,9],[67,43,34,2],[68,0,35,1],[70,6,41,21,"AnimatedStyle"],[70,19],[75,0,42,2],[75,27,42,14,"style"],[75,32,42,2],[75,34,42,21,"config"],[75,40,42,2],[75,42,42,29],[76,0,42,29],[78,0,42,29],[79,0,43,4],[79,32,43,10],[80,0,43,12,"type"],[80,8,43,12,"type"],[80,12,43,16],[80,14,43,18],[80,21,43,10],[81,0,43,27,"style"],[81,8,43,27,"style"],[81,13,43,32],[81,15,43,34,"config"],[82,0,43,10],[82,7,43,4],[82,9,43,44,"Object"],[82,15,43,50],[82,16,43,51,"values"],[82,22,43,44],[82,23,43,58,"style"],[82,28,43,44],[82,29,43,4],[83,0,44,4],[83,12,44,9,"_config"],[83,19,44,4],[83,22,44,19,"config"],[83,28,44,4],[84,0,45,4],[84,12,45,9,"_style"],[84,18,45,4],[84,21,45,18,"style"],[84,26,45,4],[85,0,42,29],[86,0,46,3],[90,33,48,13],[91,0,49,4],[91,39,49,33],[91,44,49,38,"__nodeID"],[91,52,49,4],[92,0,50,3],[95,53,52,33,"style"],[95,58],[95,60,52,40],[96,0,53,4],[96,12,53,10,"updatedStyle"],[96,24,53,22],[96,27,53,25],[96,29,53,4],[98,0,54,4],[98,13,54,9],[98,17,54,15,"key"],[98,20,54,4],[98,24,54,22,"style"],[98,29,54,4],[98,31,54,29],[99,0,55,6],[99,14,55,12,"value"],[99,19,55,17],[99,22,55,20,"style"],[99,27,55,25],[99,28,55,26,"key"],[99,31,55,25],[99,32,55,6],[101,0,56,6],[101,14,56,10,"value"],[101,19,56,15],[101,31,56,27,"AnimatedNode"],[101,53,56,6],[101,55,56,41],[102,0,57,8,"updatedStyle"],[102,12,57,8,"updatedStyle"],[102,24,57,20],[102,25,57,21,"key"],[102,28,57,20],[102,29,57,8],[102,32,57,28,"value"],[102,37,57,33],[102,38,57,34,"__getValue"],[102,48,57,28],[102,50,57,8],[103,0,58,7],[103,11,56,6],[103,17,58,13],[103,21,58,17,"value"],[103,26,58,22],[103,30,58,26],[103,31,58,27,"Array"],[103,36,58,32],[103,37,58,33,"isArray"],[103,44,58,27],[103,45,58,41,"value"],[103,50,58,27],[103,51,58,17],[103,55,58,51],[103,62,58,58,"value"],[103,67,58,51],[103,72,58,68],[103,80,58,13],[103,82,58,78],[104,0,60,8,"updatedStyle"],[104,12,60,8,"updatedStyle"],[104,24,60,20],[104,25,60,21,"key"],[104,28,60,20],[104,29,60,8],[104,32,60,28],[104,37,60,33,"_walkStyleAndGetAnimatedValues"],[104,67,60,28],[104,68,60,64,"value"],[104,73,60,28],[104,74,60,8],[105,0,61,7],[106,0,62,5],[108,0,63,4],[108,15,63,11,"updatedStyle"],[108,27,63,4],[109,0,64,3],[112,37,66,17],[113,0,67,4],[113,15,67,11],[113,20,67,16,"_walkStyleAndGetAnimatedValues"],[113,50,67,11],[113,51,67,47],[113,56,67,52,"_style"],[113,62,67,11],[113,63,67,4],[114,0,68,3],[117,4,41,43,"AnimatedNode"],[117,26]],"functionMap":{"names":["<global>","sanitizeStyle","createOrReuseStyleNode","AnimatedStyle","constructor","toString","_walkStyleAndGetAnimatedValues","__onEvaluate"],"mappings":"AAA;ACO;CDS;OEE;CFgB;eGM;ECC;GDI;EEE;GFE;EGE;GHY;EIE;GJE;CHC"}},"type":"js/module"}]}