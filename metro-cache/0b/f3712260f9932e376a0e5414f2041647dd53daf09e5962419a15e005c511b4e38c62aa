{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/toConsumableArray","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/defineProperty","data":{"isAsync":false}},{"name":"../../data/dummy-data","data":{"isAsync":false}},{"name":"../actions/products","data":{"isAsync":false}},{"name":"../../models/product","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n\n  var _toConsumableArray2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/toConsumableArray\"));\n\n  var _defineProperty2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/defineProperty\"));\n\n  var _dummyData = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"../../data/dummy-data\"));\n\n  var _products = _$$_REQUIRE(_dependencyMap[4], \"../actions/products\");\n\n  var _product = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[5], \"../../models/product\"));\n\n  function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n  var initialState = {\n    availableProducts: _dummyData.default,\n    userProducts: _dummyData.default.filter(function (prod) {\n      return prod.ownerId === 'u1';\n    })\n  };\n\n  var _default = function _default() {\n    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n    var action = arguments.length > 1 ? arguments[1] : undefined;\n\n    switch (action.type) {\n      case _products.CREATE_PRODUCT:\n        var newProduct = new _product.default(new Date().toString(), 'u1', action.productData.title, action.productData.imageUrl, action.productData.description, action.productData.price);\n        return _objectSpread(_objectSpread({}, state), {}, {\n          availableProducts: state.availableProducts.concat(newProduct),\n          userProducts: state.userProducts.concat(newProduct)\n        });\n\n      case _products.UPDATE_PRODUCT:\n        var productIndex = state.userProducts.findIndex(function (prod) {\n          return prod.id === action.pid;\n        });\n        var updatedProduct = new _product.default(action.pid, state.userProducts[productIndex].ownerId, action.productData.title, action.productData.imageUrl, action.productData.description, state.userProducts[productIndex].price);\n        var updatedUserProducts = (0, _toConsumableArray2.default)(state.userProducts);\n        updatedUserProducts[productIndex] = updatedProduct;\n        var availableProductIndex = state.availableProducts.findIndex(function (prod) {\n          return prod.id === action.pid;\n        });\n        var updatedAvailableProducts = (0, _toConsumableArray2.default)(state.availableProducts);\n        updatedAvailableProducts[availableProductIndex] = updatedProduct;\n        return _objectSpread(_objectSpread({}, state), {}, {\n          availableProducts: updatedAvailableProducts,\n          userProducts: updatedUserProducts\n        });\n\n      case _products.DELETE_PRODUCT:\n        return _objectSpread(_objectSpread({}, state), {}, {\n          userProducts: state.userProducts.filter(function (product) {\n            return product.id !== action.pid;\n          }),\n          availableProducts: state.availableProducts.filter(function (product) {\n            return product.id !== action.pid;\n          })\n        });\n    }\n\n    return state;\n  };\n\n  exports.default = _default;\n});","lineCount":74,"map":[[13,0,1,0],[15,0,2,0],[17,0,7,0],[23,0,9,0],[23,6,9,6,"initialState"],[23,18,9,18],[23,21,9,21],[24,0,10,2,"availableProducts"],[24,4,10,2,"availableProducts"],[24,21,10,19],[24,23,10,21,"PRODUCTS"],[24,41,9,21],[25,0,11,2,"userProducts"],[25,4,11,2,"userProducts"],[25,16,11,14],[25,18,11,16,"PRODUCTS"],[25,37,11,25,"filter"],[25,43,11,16],[25,44,11,32],[25,54,11,32,"prod"],[25,58,11,36],[26,0,11,36],[26,13,11,40,"prod"],[26,17,11,44],[26,18,11,45,"ownerId"],[26,25,11,40],[26,30,11,57],[26,34,11,36],[27,0,11,36],[27,5,11,16],[28,0,9,21],[28,3,9,0],[30,17,14,15],[30,37,14,49],[31,0,14,49],[31,8,14,16,"state"],[31,13,14,49],[31,84,14,24,"initialState"],[31,96,14,49],[32,0,14,49],[32,8,14,38,"action"],[32,14,14,49],[34,0,15,2],[34,12,15,10,"action"],[34,18,15,16],[34,19,15,17,"type"],[34,23,15,2],[35,0,16,4],[35,11,16,9,"CREATE_PRODUCT"],[35,35,16,4],[36,0,17,6],[36,12,17,12,"newProduct"],[36,22,17,22],[36,25,17,25],[36,29,17,29,"Product"],[36,45,17,25],[36,46,18,8],[36,50,18,12,"Date"],[36,54,18,8],[36,57,18,19,"toString"],[36,65,18,8],[36,67,17,25],[36,69,19,8],[36,73,17,25],[36,75,20,8,"action"],[36,81,20,14],[36,82,20,15,"productData"],[36,93,20,8],[36,94,20,27,"title"],[36,99,17,25],[36,101,21,8,"action"],[36,107,21,14],[36,108,21,15,"productData"],[36,119,21,8],[36,120,21,27,"imageUrl"],[36,128,17,25],[36,130,22,8,"action"],[36,136,22,14],[36,137,22,15,"productData"],[36,148,22,8],[36,149,22,27,"description"],[36,160,17,25],[36,162,23,8,"action"],[36,168,23,14],[36,169,23,15,"productData"],[36,180,23,8],[36,181,23,27,"price"],[36,186,17,25],[36,187,17,6],[37,0,25,6],[37,47,26,11,"state"],[37,52,25,6],[38,0,27,8,"availableProducts"],[38,10,27,8,"availableProducts"],[38,27,27,25],[38,29,27,27,"state"],[38,34,27,32],[38,35,27,33,"availableProducts"],[38,52,27,27],[38,53,27,51,"concat"],[38,59,27,27],[38,60,27,58,"newProduct"],[38,70,27,27],[38,71,25,6],[39,0,28,8,"userProducts"],[39,10,28,8,"userProducts"],[39,22,28,20],[39,24,28,22,"state"],[39,29,28,27],[39,30,28,28,"userProducts"],[39,42,28,22],[39,43,28,41,"concat"],[39,49,28,22],[39,50,28,48,"newProduct"],[39,60,28,22],[40,0,25,6],[42,0,30,4],[42,11,30,9,"UPDATE_PRODUCT"],[42,35,30,4],[43,0,31,6],[43,12,31,12,"productIndex"],[43,24,31,24],[43,27,31,27,"state"],[43,32,31,32],[43,33,31,33,"userProducts"],[43,45,31,27],[43,46,31,46,"findIndex"],[43,55,31,27],[43,56,32,8],[43,66,32,8,"prod"],[43,70,32,12],[44,0,32,12],[44,17,32,16,"prod"],[44,21,32,20],[44,22,32,21,"id"],[44,24,32,16],[44,29,32,28,"action"],[44,35,32,34],[44,36,32,35,"pid"],[44,39,32,12],[45,0,32,12],[45,9,31,27],[45,10,31,6],[46,0,34,6],[46,12,34,12,"updatedProduct"],[46,26,34,26],[46,29,34,29],[46,33,34,33,"Product"],[46,49,34,29],[46,50,35,8,"action"],[46,56,35,14],[46,57,35,15,"pid"],[46,60,34,29],[46,62,36,8,"state"],[46,67,36,13],[46,68,36,14,"userProducts"],[46,80,36,8],[46,81,36,27,"productIndex"],[46,93,36,8],[46,95,36,41,"ownerId"],[46,102,34,29],[46,104,37,8,"action"],[46,110,37,14],[46,111,37,15,"productData"],[46,122,37,8],[46,123,37,27,"title"],[46,128,34,29],[46,130,38,8,"action"],[46,136,38,14],[46,137,38,15,"productData"],[46,148,38,8],[46,149,38,27,"imageUrl"],[46,157,34,29],[46,159,39,8,"action"],[46,165,39,14],[46,166,39,15,"productData"],[46,177,39,8],[46,178,39,27,"description"],[46,189,34,29],[46,191,40,8,"state"],[46,196,40,13],[46,197,40,14,"userProducts"],[46,209,40,8],[46,210,40,27,"productIndex"],[46,222,40,8],[46,224,40,41,"price"],[46,229,34,29],[46,230,34,6],[47,0,42,6],[47,12,42,12,"updatedUserProducts"],[47,31,42,31],[47,67,42,38,"state"],[47,72,42,43],[47,73,42,44,"userProducts"],[47,85,42,31],[47,86,42,6],[48,0,43,6,"updatedUserProducts"],[48,8,43,6,"updatedUserProducts"],[48,27,43,25],[48,28,43,26,"productIndex"],[48,40,43,25],[48,41,43,6],[48,44,43,42,"updatedProduct"],[48,58,43,6],[49,0,44,6],[49,12,44,12,"availableProductIndex"],[49,33,44,33],[49,36,44,36,"state"],[49,41,44,41],[49,42,44,42,"availableProducts"],[49,59,44,36],[49,60,44,60,"findIndex"],[49,69,44,36],[49,70,45,8],[49,80,45,8,"prod"],[49,84,45,12],[50,0,45,12],[50,17,45,16,"prod"],[50,21,45,20],[50,22,45,21,"id"],[50,24,45,16],[50,29,45,28,"action"],[50,35,45,34],[50,36,45,35,"pid"],[50,39,45,12],[51,0,45,12],[51,9,44,36],[51,10,44,6],[52,0,47,6],[52,12,47,12,"updatedAvailableProducts"],[52,36,47,36],[52,72,47,43,"state"],[52,77,47,48],[52,78,47,49,"availableProducts"],[52,95,47,36],[52,96,47,6],[53,0,48,6,"updatedAvailableProducts"],[53,8,48,6,"updatedAvailableProducts"],[53,32,48,30],[53,33,48,31,"availableProductIndex"],[53,54,48,30],[53,55,48,6],[53,58,48,56,"updatedProduct"],[53,72,48,6],[54,0,49,6],[54,47,50,11,"state"],[54,52,49,6],[55,0,51,8,"availableProducts"],[55,10,51,8,"availableProducts"],[55,27,51,25],[55,29,51,27,"updatedAvailableProducts"],[55,53,49,6],[56,0,52,8,"userProducts"],[56,10,52,8,"userProducts"],[56,22,52,20],[56,24,52,22,"updatedUserProducts"],[57,0,49,6],[59,0,54,4],[59,11,54,9,"DELETE_PRODUCT"],[59,35,54,4],[60,0,55,6],[60,47,56,11,"state"],[60,52,55,6],[61,0,57,8,"userProducts"],[61,10,57,8,"userProducts"],[61,22,57,20],[61,24,57,22,"state"],[61,29,57,27],[61,30,57,28,"userProducts"],[61,42,57,22],[61,43,57,41,"filter"],[61,49,57,22],[61,50,58,10],[61,60,58,10,"product"],[61,67,58,17],[62,0,58,17],[62,19,58,21,"product"],[62,26,58,28],[62,27,58,29,"id"],[62,29,58,21],[62,34,58,36,"action"],[62,40,58,42],[62,41,58,43,"pid"],[62,44,58,17],[63,0,58,17],[63,11,57,22],[63,12,55,6],[64,0,60,8,"availableProducts"],[64,10,60,8,"availableProducts"],[64,27,60,25],[64,29,60,27,"state"],[64,34,60,32],[64,35,60,33,"availableProducts"],[64,52,60,27],[64,53,60,51,"filter"],[64,59,60,27],[64,60,61,10],[64,70,61,10,"product"],[64,77,61,17],[65,0,61,17],[65,19,61,21,"product"],[65,26,61,28],[65,27,61,29,"id"],[65,29,61,21],[65,34,61,36,"action"],[65,40,61,42],[65,41,61,43,"pid"],[65,44,61,17],[66,0,61,17],[66,11,60,27],[67,0,55,6],[68,0,15,2],[70,0,65,2],[70,11,65,9,"state"],[70,16,65,2],[71,0,66,1],[71,3]],"functionMap":{"names":["<global>","PRODUCTS.filter$argument_0","<anonymous>","state.userProducts.findIndex$argument_0","state.availableProducts.findIndex$argument_0","state.userProducts.filter$argument_0","state.availableProducts.filter$argument_0"],"mappings":"AAA;gCCU,6BD;eEG;QCkB,8BD;QEa,8BF;UGa,oCH;UIG,oCJ;CFK"}},"type":"js/module"}]}