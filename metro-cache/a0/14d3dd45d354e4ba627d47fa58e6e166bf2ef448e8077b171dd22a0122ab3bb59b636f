{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/createClass","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/inherits","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/possibleConstructorReturn","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/getPrototypeOf","data":{"isAsync":false}},{"name":"react-native","data":{"isAsync":false}},{"name":"../ReanimatedModule","data":{"isAsync":false}},{"name":"./AnimatedNode","data":{"isAsync":false}},{"name":"./AnimatedValue","data":{"isAsync":false}},{"name":"./AnimatedAlways","data":{"isAsync":false}},{"name":"fbjs/lib/invariant","data":{"isAsync":false}},{"name":"./createEventObjectProxyPolyfill","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.createAnimatedEvent = createAnimatedEvent;\n  exports.default = void 0;\n\n  var _classCallCheck2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\"));\n\n  var _createClass2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/createClass\"));\n\n  var _inherits2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"@babel/runtime/helpers/inherits\"));\n\n  var _possibleConstructorReturn2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[4], \"@babel/runtime/helpers/possibleConstructorReturn\"));\n\n  var _getPrototypeOf2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[5], \"@babel/runtime/helpers/getPrototypeOf\"));\n\n  var _reactNative = _$$_REQUIRE(_dependencyMap[6], \"react-native\");\n\n  var _ReanimatedModule = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[7], \"../ReanimatedModule\"));\n\n  var _AnimatedNode2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[8], \"./AnimatedNode\"));\n\n  var _AnimatedValue = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[9], \"./AnimatedValue\"));\n\n  var _AnimatedAlways = _$$_REQUIRE(_dependencyMap[10], \"./AnimatedAlways\");\n\n  var _invariant = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[11], \"fbjs/lib/invariant\"));\n\n  var _createEventObjectProxyPolyfill = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[12], \"./createEventObjectProxyPolyfill\"));\n\n  function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\n  function _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n  function sanitizeArgMapping(argMapping) {\n    var eventMappings = [];\n    var alwaysNodes = [];\n\n    var getNode = function getNode(node) {\n      if (_reactNative.Platform.OS === 'web') {\n        return node;\n      }\n\n      return node.__nodeID;\n    };\n\n    var traverse = function traverse(value, path) {\n      if (value instanceof _AnimatedValue.default) {\n        eventMappings.push(path.concat(getNode(value)));\n      } else if (typeof value === 'object' && value.__val) {\n        eventMappings.push(path.concat(getNode(value.__val)));\n      } else if (typeof value === 'function') {\n        var node = new _AnimatedValue.default(0);\n        alwaysNodes.push((0, _AnimatedAlways.createAnimatedAlways)(value(node)));\n        eventMappings.push(path.concat(getNode(node)));\n      } else if (typeof value === 'object') {\n        for (var key in value) {\n          traverse(value[key], path.concat(key));\n        }\n      }\n    };\n\n    (0, _invariant.default)(argMapping[0] && argMapping[0].nativeEvent, 'Native driven events only support animated values contained inside `nativeEvent`.');\n    var ev = argMapping[0].nativeEvent;\n\n    if (typeof ev === 'object') {\n      traverse(ev, []);\n    } else if (typeof ev === 'function') {\n      var proxyHandler = {\n        get: function get(target, name) {\n          if (name === '__isProxy') {\n            return true;\n          }\n\n          if (!target[name] && name !== '__val') {\n            target[name] = new Proxy({}, proxyHandler);\n          }\n\n          return target[name];\n        },\n        set: function set(target, prop, value) {\n          if (prop === '__val') {\n            target[prop] = value;\n            return true;\n          }\n\n          return false;\n        }\n      };\n      var proxy = typeof Proxy === 'function' ? new Proxy({}, proxyHandler) : (0, _createEventObjectProxyPolyfill.default)();\n      alwaysNodes.push((0, _AnimatedAlways.createAnimatedAlways)(ev(proxy)));\n      traverse(proxy, []);\n    }\n\n    return {\n      eventMappings: eventMappings,\n      alwaysNodes: alwaysNodes\n    };\n  }\n\n  var AnimatedEvent = function (_AnimatedNode) {\n    (0, _inherits2.default)(AnimatedEvent, _AnimatedNode);\n\n    var _super = _createSuper(AnimatedEvent);\n\n    function AnimatedEvent(argMapping) {\n      var _this;\n\n      var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      (0, _classCallCheck2.default)(this, AnimatedEvent);\n\n      var _sanitizeArgMapping = sanitizeArgMapping(argMapping),\n          eventMappings = _sanitizeArgMapping.eventMappings,\n          alwaysNodes = _sanitizeArgMapping.alwaysNodes;\n\n      _this = _super.call(this, {\n        type: 'event',\n        argMapping: eventMappings\n      });\n      _this.__isNative = true;\n      _this._alwaysNodes = alwaysNodes;\n      return _this;\n    }\n\n    (0, _createClass2.default)(AnimatedEvent, [{\n      key: \"toString\",\n      value: function toString() {\n        return \"AnimatedEvent, id: \" + this.__nodeID;\n      }\n    }, {\n      key: \"attachEvent\",\n      value: function attachEvent(viewRef, eventName) {\n        for (var i = 0; i < this._alwaysNodes.length; i++) {\n          this._alwaysNodes[i].__attach();\n        }\n\n        this.__attach();\n\n        var viewTag = (0, _reactNative.findNodeHandle)(viewRef);\n\n        _ReanimatedModule.default.attachEvent(viewTag, eventName, this.__nodeID);\n      }\n    }, {\n      key: \"__onEvaluate\",\n      value: function __onEvaluate() {\n        return 0;\n      }\n    }, {\n      key: \"detachEvent\",\n      value: function detachEvent(viewRef, eventName) {\n        for (var i = 0; i < this._alwaysNodes.length; i++) {\n          this._alwaysNodes[i].isNativelyInitialized() && this._alwaysNodes[i].__detach();\n        }\n\n        var viewTag = (0, _reactNative.findNodeHandle)(viewRef);\n\n        _ReanimatedModule.default.detachEvent(viewTag, eventName, this.__nodeID);\n\n        this.__detach();\n      }\n    }]);\n    return AnimatedEvent;\n  }(_AnimatedNode2.default);\n\n  exports.default = AnimatedEvent;\n\n  function createAnimatedEvent(argMapping, config) {\n    return new AnimatedEvent(argMapping, config);\n  }\n});","lineCount":173,"map":[[20,0,1,0],[22,0,2,0],[24,0,4,0],[26,0,5,0],[28,0,6,0],[30,0,8,0],[32,0,9,0],[38,0,11,0],[38,11,11,9,"sanitizeArgMapping"],[38,29,11,0],[38,30,11,28,"argMapping"],[38,40,11,0],[38,42,11,40],[39,0,14,2],[39,8,14,8,"eventMappings"],[39,21,14,21],[39,24,14,24],[39,26,14,2],[40,0,15,2],[40,8,15,8,"alwaysNodes"],[40,19,15,19],[40,22,15,22],[40,24,15,2],[42,0,17,2],[42,8,17,8,"getNode"],[42,15,17,15],[42,18,17,18],[42,27,17,8,"getNode"],[42,34,17,18],[42,35,17,18,"node"],[42,39,17,22],[42,41,17,26],[43,0,18,4],[43,10,18,8,"Platform"],[43,32,18,17,"OS"],[43,34,18,8],[43,39,18,24],[43,44,18,4],[43,46,18,31],[44,0,19,6],[44,15,19,13,"node"],[44,19,19,6],[45,0,20,5],[47,0,21,4],[47,13,21,11,"node"],[47,17,21,15],[47,18,21,16,"__nodeID"],[47,26,21,4],[48,0,22,3],[48,5,17,2],[50,0,24,2],[50,8,24,8,"traverse"],[50,16,24,16],[50,19,24,19],[50,28,24,8,"traverse"],[50,36,24,19],[50,37,24,20,"value"],[50,42,24,19],[50,44,24,27,"path"],[50,48,24,19],[50,50,24,36],[51,0,25,4],[51,10,25,8,"value"],[51,15,25,13],[51,27,25,25,"InternalAnimatedValue"],[51,49,25,4],[51,51,25,48],[52,0,26,6,"eventMappings"],[52,8,26,6,"eventMappings"],[52,21,26,19],[52,22,26,20,"push"],[52,26,26,6],[52,27,26,25,"path"],[52,31,26,29],[52,32,26,30,"concat"],[52,38,26,25],[52,39,26,37,"getNode"],[52,46,26,44],[52,47,26,45,"value"],[52,52,26,44],[52,53,26,25],[52,54,26,6],[53,0,27,5],[53,7,25,4],[53,13,27,11],[53,17,27,15],[53,24,27,22,"value"],[53,29,27,15],[53,34,27,32],[53,42,27,15],[53,46,27,44,"value"],[53,51,27,49],[53,52,27,50,"__val"],[53,57,27,11],[53,59,27,57],[54,0,28,6,"eventMappings"],[54,8,28,6,"eventMappings"],[54,21,28,19],[54,22,28,20,"push"],[54,26,28,6],[54,27,28,25,"path"],[54,31,28,29],[54,32,28,30,"concat"],[54,38,28,25],[54,39,28,37,"getNode"],[54,46,28,44],[54,47,28,45,"value"],[54,52,28,50],[54,53,28,51,"__val"],[54,58,28,44],[54,59,28,25],[54,60,28,6],[55,0,29,5],[55,7,27,11],[55,13,29,11],[55,17,29,15],[55,24,29,22,"value"],[55,29,29,15],[55,34,29,32],[55,44,29,11],[55,46,29,44],[56,0,30,6],[56,12,30,12,"node"],[56,16,30,16],[56,19,30,19],[56,23,30,23,"InternalAnimatedValue"],[56,45,30,19],[56,46,30,45],[56,47,30,19],[56,48,30,6],[57,0,31,6,"alwaysNodes"],[57,8,31,6,"alwaysNodes"],[57,19,31,17],[57,20,31,18,"push"],[57,24,31,6],[57,25,31,23],[57,67,31,44,"value"],[57,72,31,49],[57,73,31,50,"node"],[57,77,31,49],[57,78,31,23],[57,79,31,6],[58,0,32,6,"eventMappings"],[58,8,32,6,"eventMappings"],[58,21,32,19],[58,22,32,20,"push"],[58,26,32,6],[58,27,32,25,"path"],[58,31,32,29],[58,32,32,30,"concat"],[58,38,32,25],[58,39,32,37,"getNode"],[58,46,32,44],[58,47,32,45,"node"],[58,51,32,44],[58,52,32,25],[58,53,32,6],[59,0,33,5],[59,7,29,11],[59,13,33,11],[59,17,33,15],[59,24,33,22,"value"],[59,29,33,15],[59,34,33,32],[59,42,33,11],[59,44,33,42],[60,0,34,6],[60,13,34,11],[60,17,34,17,"key"],[60,20,34,6],[60,24,34,24,"value"],[60,29,34,6],[60,31,34,31],[61,0,35,8,"traverse"],[61,10,35,8,"traverse"],[61,18,35,16],[61,19,35,17,"value"],[61,24,35,22],[61,25,35,23,"key"],[61,28,35,22],[61,29,35,16],[61,31,35,29,"path"],[61,35,35,33],[61,36,35,34,"concat"],[61,42,35,29],[61,43,35,41,"key"],[61,46,35,29],[61,47,35,16],[61,48,35,8],[62,0,36,7],[63,0,37,5],[64,0,38,3],[64,5,24,2],[66,0,40,2],[66,28,41,4,"argMapping"],[66,38,41,14],[66,39,41,15],[66,40,41,14],[66,41,41,4],[66,45,41,21,"argMapping"],[66,55,41,31],[66,56,41,32],[66,57,41,31],[66,58,41,21],[66,59,41,35,"nativeEvent"],[66,70,40,2],[66,72,42,4],[66,155,40,2],[67,0,46,2],[67,8,46,8,"ev"],[67,10,46,10],[67,13,46,13,"argMapping"],[67,23,46,23],[67,24,46,24],[67,25,46,23],[67,26,46,13],[67,27,46,27,"nativeEvent"],[67,38,46,2],[69,0,47,2],[69,8,47,6],[69,15,47,13,"ev"],[69,17,47,6],[69,22,47,20],[69,30,47,2],[69,32,47,30],[70,0,48,4,"traverse"],[70,6,48,4,"traverse"],[70,14,48,12],[70,15,48,13,"ev"],[70,17,48,12],[70,19,48,17],[70,21,48,12],[70,22,48,4],[71,0,49,3],[71,5,47,2],[71,11,49,9],[71,15,49,13],[71,22,49,20,"ev"],[71,24,49,13],[71,29,49,27],[71,39,49,9],[71,41,49,39],[72,0,50,4],[72,10,50,10,"proxyHandler"],[72,22,50,22],[72,25,50,25],[73,0,51,6,"get"],[73,8,51,6,"get"],[73,11,51,9],[73,13,51,11],[73,26,51,20,"target"],[73,32,51,11],[73,34,51,28,"name"],[73,38,51,11],[73,40,51,34],[74,0,52,8],[74,14,52,12,"name"],[74,18,52,16],[74,23,52,21],[74,34,52,8],[74,36,52,34],[75,0,53,10],[75,19,53,17],[75,23,53,10],[76,0,54,9],[78,0,55,8],[78,14,55,12],[78,15,55,13,"target"],[78,21,55,19],[78,22,55,20,"name"],[78,26,55,19],[78,27,55,12],[78,31,55,29,"name"],[78,35,55,33],[78,40,55,38],[78,47,55,8],[78,49,55,47],[79,0,56,10,"target"],[79,12,56,10,"target"],[79,18,56,16],[79,19,56,17,"name"],[79,23,56,16],[79,24,56,10],[79,27,56,25],[79,31,56,29,"Proxy"],[79,36,56,25],[79,37,56,35],[79,39,56,25],[79,41,56,39,"proxyHandler"],[79,53,56,25],[79,54,56,10],[80,0,57,9],[82,0,58,8],[82,17,58,15,"target"],[82,23,58,21],[82,24,58,22,"name"],[82,28,58,21],[82,29,58,8],[83,0,59,7],[83,9,50,25],[84,0,60,6,"set"],[84,8,60,6,"set"],[84,11,60,9],[84,13,60,11],[84,26,60,20,"target"],[84,32,60,11],[84,34,60,28,"prop"],[84,38,60,11],[84,40,60,34,"value"],[84,45,60,11],[84,47,60,41],[85,0,61,8],[85,14,61,12,"prop"],[85,18,61,16],[85,23,61,21],[85,30,61,8],[85,32,61,30],[86,0,62,10,"target"],[86,12,62,10,"target"],[86,18,62,16],[86,19,62,17,"prop"],[86,23,62,16],[86,24,62,10],[86,27,62,25,"value"],[86,32,62,10],[87,0,63,10],[87,19,63,17],[87,23,63,10],[88,0,64,9],[90,0,65,8],[90,17,65,15],[90,22,65,8],[91,0,66,7],[92,0,50,25],[92,7,50,4],[93,0,69,4],[93,10,69,10,"proxy"],[93,15,69,15],[93,18,70,6],[93,25,70,13,"Proxy"],[93,30,70,6],[93,35,70,23],[93,45,70,6],[93,48,71,10],[93,52,71,14,"Proxy"],[93,57,71,10],[93,58,71,20],[93,60,71,10],[93,62,71,24,"proxyHandler"],[93,74,71,10],[93,75,70,6],[93,78,72,10],[93,124,69,4],[94,0,73,4,"alwaysNodes"],[94,6,73,4,"alwaysNodes"],[94,17,73,15],[94,18,73,16,"push"],[94,22,73,4],[94,23,73,21],[94,65,73,42,"ev"],[94,67,73,44],[94,68,73,45,"proxy"],[94,73,73,44],[94,74,73,21],[94,75,73,4],[95,0,74,4,"traverse"],[95,6,74,4,"traverse"],[95,14,74,12],[95,15,74,13,"proxy"],[95,20,74,12],[95,22,74,20],[95,24,74,12],[95,25,74,4],[96,0,75,3],[98,0,77,2],[98,11,77,9],[99,0,77,11,"eventMappings"],[99,6,77,11,"eventMappings"],[99,19,77,24],[99,21,77,11,"eventMappings"],[99,34,77,9],[100,0,77,26,"alwaysNodes"],[100,6,77,26,"alwaysNodes"],[100,17,77,37],[100,19,77,26,"alwaysNodes"],[101,0,77,9],[101,5,77,2],[102,0,78,1],[104,6,80,21,"AnimatedEvent"],[104,19],[109,0,81,2],[109,27,81,14,"argMapping"],[109,37,81,2],[109,39,81,39],[110,0,81,39],[112,0,81,39],[112,10,81,26,"config"],[112,16,81,39],[112,87,81,35],[112,89,81,39],[113,0,81,39],[115,0,81,39],[115,32,82,43,"sanitizeArgMapping"],[115,50,82,61],[115,51,82,62,"argMapping"],[115,61,82,61],[115,62,81,39],[116,0,81,39],[116,10,82,12,"eventMappings"],[116,23,81,39],[116,46,82,12,"eventMappings"],[116,59,81,39],[117,0,81,39],[117,10,82,27,"alwaysNodes"],[117,21,81,39],[117,44,82,27,"alwaysNodes"],[117,55,81,39],[119,0,83,4],[119,32,83,10],[120,0,83,12,"type"],[120,8,83,12,"type"],[120,12,83,16],[120,14,83,18],[120,21,83,10],[121,0,83,27,"argMapping"],[121,8,83,27,"argMapping"],[121,18,83,37],[121,20,83,39,"eventMappings"],[122,0,83,10],[122,7,83,4],[123,0,81,39],[123,12,94,2,"__isNative"],[123,22,81,39],[123,25,94,15],[123,29,81,39],[124,0,84,4],[124,12,84,9,"_alwaysNodes"],[124,24,84,4],[124,27,84,24,"alwaysNodes"],[124,38,84,4],[125,0,81,39],[126,0,85,3],[130,33,87,13],[131,0,88,4],[131,39,88,33],[131,44,88,38,"__nodeID"],[131,52,88,4],[132,0,89,3],[135,34,96,14,"viewRef"],[135,41],[135,43,96,23,"eventName"],[135,52],[135,54,96,34],[136,0,97,4],[136,13,97,9],[136,17,97,13,"i"],[136,18,97,14],[136,21,97,17],[136,22,97,4],[136,24,97,20,"i"],[136,25,97,21],[136,28,97,24],[136,33,97,29,"_alwaysNodes"],[136,45,97,24],[136,46,97,42,"length"],[136,52,97,4],[136,54,97,50,"i"],[136,55,97,51],[136,57,97,4],[136,59,97,55],[137,0,98,6],[137,15,98,11,"_alwaysNodes"],[137,27,98,6],[137,28,98,24,"i"],[137,29,98,6],[137,31,98,27,"__attach"],[137,39,98,6],[138,0,99,5],[140,0,100,4],[140,13,100,9,"__attach"],[140,21,100,4],[142,0,101,4],[142,12,101,10,"viewTag"],[142,19,101,17],[142,22,101,20],[142,55,101,35,"viewRef"],[142,62,101,20],[142,63,101,4],[144,0,102,4,"ReanimatedModule"],[144,34,102,21,"attachEvent"],[144,45,102,4],[144,46,102,33,"viewTag"],[144,53,102,4],[144,55,102,42,"eventName"],[144,64,102,4],[144,66,102,53],[144,71,102,58,"__nodeID"],[144,79,102,4],[145,0,103,3],[148,37,105,17],[149,0,106,4],[149,15,106,11],[149,16,106,4],[150,0,107,3],[153,34,109,14,"viewRef"],[153,41],[153,43,109,23,"eventName"],[153,52],[153,54,109,34],[154,0,110,4],[154,13,110,9],[154,17,110,13,"i"],[154,18,110,14],[154,21,110,17],[154,22,110,4],[154,24,110,20,"i"],[154,25,110,21],[154,28,110,24],[154,33,110,29,"_alwaysNodes"],[154,45,110,24],[154,46,110,42,"length"],[154,52,110,4],[154,54,110,50,"i"],[154,55,110,51],[154,57,110,4],[154,59,110,55],[155,0,111,6],[155,15,111,11,"_alwaysNodes"],[155,27,111,6],[155,28,111,24,"i"],[155,29,111,6],[155,31,111,27,"isNativelyInitialized"],[155,52,111,6],[155,58,112,8],[155,63,112,13,"_alwaysNodes"],[155,75,112,8],[155,76,112,26,"i"],[155,77,112,8],[155,79,112,29,"__detach"],[155,87,112,8],[155,89,111,6],[156,0,113,5],[158,0,114,4],[158,12,114,10,"viewTag"],[158,19,114,17],[158,22,114,20],[158,55,114,35,"viewRef"],[158,62,114,20],[158,63,114,4],[160,0,115,4,"ReanimatedModule"],[160,34,115,21,"detachEvent"],[160,45,115,4],[160,46,115,33,"viewTag"],[160,53,115,4],[160,55,115,42,"eventName"],[160,64,115,4],[160,66,115,53],[160,71,115,58,"__nodeID"],[160,79,115,4],[162,0,116,4],[162,13,116,9,"__detach"],[162,21,116,4],[163,0,117,3],[166,4,80,43,"AnimatedNode"],[166,26],[170,0,120,7],[170,11,120,16,"createAnimatedEvent"],[170,30,120,7],[170,31,120,36,"argMapping"],[170,41,120,7],[170,43,120,48,"config"],[170,49,120,7],[170,51,120,56],[171,0,121,2],[171,11,121,9],[171,15,121,13,"AnimatedEvent"],[171,28,121,9],[171,29,121,27,"argMapping"],[171,39,121,9],[171,41,121,39,"config"],[171,47,121,9],[171,48,121,2],[172,0,122,1]],"functionMap":{"names":["<global>","sanitizeArgMapping","getNode","traverse","proxyHandler.get","proxyHandler.set","AnimatedEvent","constructor","toString","attachEvent","__onEvaluate","detachEvent","createAnimatedEvent"],"mappings":"AAA;ACU;kBCM;GDK;mBEE;GFc;WGa;OHQ;WIC;OJM;CDY;eME;ECC;GDI;EEE;GFE;EGO;GHO;EIE;GJE;EKE;GLQ;CNC;OYE;CZE"}},"type":"js/module"}]}