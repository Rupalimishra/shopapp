{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/createClass","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/inherits","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/possibleConstructorReturn","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/getPrototypeOf","data":{"isAsync":false}},{"name":"@babel/runtime/regenerator","data":{"isAsync":false}},{"name":"react","data":{"isAsync":false}},{"name":"react-native","data":{"isAsync":false}},{"name":"./AppLoading","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n\n  var _classCallCheck2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\"));\n\n  var _createClass2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/createClass\"));\n\n  var _inherits2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"@babel/runtime/helpers/inherits\"));\n\n  var _possibleConstructorReturn2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[4], \"@babel/runtime/helpers/possibleConstructorReturn\"));\n\n  var _getPrototypeOf2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[5], \"@babel/runtime/helpers/getPrototypeOf\"));\n\n  var _regenerator = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[6], \"@babel/runtime/regenerator\"));\n\n  var _react = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[7], \"react\"));\n\n  var _reactNative = _$$_REQUIRE(_dependencyMap[8], \"react-native\");\n\n  var _AppLoading = _$$_REQUIRE(_dependencyMap[9], \"./AppLoading\");\n\n  function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\n  function _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n  var ExponentAppLoadingManager = _reactNative.NativeModules.ExponentAppLoadingManager;\n\n  function finishedAsync() {\n    return _regenerator.default.async(function finishedAsync$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!(ExponentAppLoadingManager && ExponentAppLoadingManager.finishedAsync)) {\n              _context.next = 4;\n              break;\n            }\n\n            _context.next = 3;\n            return _regenerator.default.awrap(ExponentAppLoadingManager.finishedAsync());\n\n          case 3:\n            return _context.abrupt(\"return\", _context.sent);\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  var _appLoadingIsMounted;\n\n  var RootErrorBoundary = function (_React$Component) {\n    (0, _inherits2.default)(RootErrorBoundary, _React$Component);\n\n    var _super = _createSuper(RootErrorBoundary);\n\n    function RootErrorBoundary(props) {\n      var _this;\n\n      (0, _classCallCheck2.default)(this, RootErrorBoundary);\n      _this = _super.call(this, props);\n\n      _this._subscribeToGlobalErrors = function () {\n        _appLoadingIsMounted = true;\n        var originalErrorHandler = ErrorUtils.getGlobalHandler();\n        ErrorUtils.setGlobalHandler(function (error, isFatal) {\n          if (_appLoadingIsMounted) {\n            finishedAsync();\n\n            if (isFatal) {\n              _this.setState({\n                error: error\n              });\n            }\n          }\n\n          originalErrorHandler(error, isFatal);\n        });\n      };\n\n      _this._unsubscribeFromGlobalErrors = function () {\n        _appLoadingIsMounted = false;\n      };\n\n      _appLoadingIsMounted = false;\n      (0, _AppLoading.getAppLoadingLifecycleEmitter)().once('componentDidMount', _this._subscribeToGlobalErrors);\n      (0, _AppLoading.getAppLoadingLifecycleEmitter)().once('componentWillUnmount', _this._unsubscribeFromGlobalErrors);\n      _this.state = {\n        error: null\n      };\n      return _this;\n    }\n\n    (0, _createClass2.default)(RootErrorBoundary, [{\n      key: \"componentDidCatch\",\n      value: function componentDidCatch(error, _errorInfo) {\n        if (_appLoadingIsMounted) {\n          finishedAsync();\n        }\n\n        throw error;\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        if (this.state.error) {\n          return null;\n        } else {\n          return this.props.children;\n        }\n      }\n    }], [{\n      key: \"getDerivedStateFromError\",\n      value: function getDerivedStateFromError(_error) {\n        if (_appLoadingIsMounted) {\n          return {\n            error: true\n          };\n        }\n\n        return null;\n      }\n    }]);\n    return RootErrorBoundary;\n  }(_react.default.Component);\n\n  exports.default = RootErrorBoundary;\n});","lineCount":135,"map":[[21,0,1,0],[23,0,2,0],[25,0,3,0],[31,6,4,8,"ExponentAppLoadingManager"],[31,31],[31,34,4,38,"NativeModules"],[31,60],[31,61,4,8,"ExponentAppLoadingManager"],[31,86],[33,0,5,0],[33,11,5,15,"finishedAsync"],[33,24,5,0],[34,0,5,0],[35,0,5,0],[36,0,5,0],[37,0,5,0],[38,0,5,0],[38,18,6,8,"ExponentAppLoadingManager"],[38,43,6,33],[38,47,6,37,"ExponentAppLoadingManager"],[38,72,6,62],[38,73,6,63,"finishedAsync"],[38,86,5,0],[39,0,5,0],[40,0,5,0],[41,0,5,0],[43,0,5,0],[44,0,5,0],[44,46,7,21,"ExponentAppLoadingManager"],[44,71,7,46],[44,72,7,47,"finishedAsync"],[44,85,7,21],[44,87,5,0],[46,0,5,0],[47,0,5,0],[49,0,5,0],[50,0,5,0],[51,0,5,0],[52,0,5,0],[53,0,5,0],[54,0,5,0],[55,0,5,0],[57,0,11,0],[57,6,11,4,"_appLoadingIsMounted"],[57,26,11,0],[59,6,30,21,"RootErrorBoundary"],[59,23],[64,0,31,4],[64,31,31,16,"props"],[64,36,31,4],[64,38,31,23],[65,0,31,23],[67,0,31,23],[68,0,32,8],[68,32,32,14,"props"],[68,37,32,8],[70,0,33,8],[70,12,33,13,"_subscribeToGlobalErrors"],[70,36,33,8],[70,39,33,40],[70,51,33,46],[71,0,34,12,"_appLoadingIsMounted"],[71,8,34,12,"_appLoadingIsMounted"],[71,28,34,32],[71,31,34,35],[71,35,34,12],[72,0,35,12],[72,12,35,16,"originalErrorHandler"],[72,32,35,36],[72,35,35,39,"ErrorUtils"],[72,45,35,49],[72,46,35,50,"getGlobalHandler"],[72,62,35,39],[72,64,35,12],[73,0,36,12,"ErrorUtils"],[73,8,36,12,"ErrorUtils"],[73,18,36,22],[73,19,36,23,"setGlobalHandler"],[73,35,36,12],[73,36,36,40],[73,46,36,41,"error"],[73,51,36,40],[73,53,36,48,"isFatal"],[73,60,36,40],[73,62,36,60],[74,0,37,16],[74,14,37,20,"_appLoadingIsMounted"],[74,34,37,16],[74,36,37,42],[75,0,38,20,"finishedAsync"],[75,12,38,20,"finishedAsync"],[75,25,38,33],[77,0,39,20],[77,16,39,24,"isFatal"],[77,23,39,20],[77,25,39,33],[78,0,40,24],[78,20,40,29,"setState"],[78,28,40,24],[78,29,40,38],[79,0,40,40,"error"],[79,16,40,40,"error"],[79,21,40,45],[79,23,40,40,"error"],[80,0,40,38],[80,15,40,24],[81,0,41,21],[82,0,42,17],[84,0,43,16,"originalErrorHandler"],[84,10,43,16,"originalErrorHandler"],[84,30,43,36],[84,31,43,37,"error"],[84,36,43,36],[84,38,43,44,"isFatal"],[84,45,43,36],[84,46,43,16],[85,0,44,13],[85,9,36,12],[86,0,45,9],[86,7,33,8],[88,0,46,8],[88,12,46,13,"_unsubscribeFromGlobalErrors"],[88,40,46,8],[88,43,46,44],[88,55,46,50],[89,0,50,12,"_appLoadingIsMounted"],[89,8,50,12,"_appLoadingIsMounted"],[89,28,50,32],[89,31,50,35],[89,36,50,12],[90,0,51,9],[90,7,46,8],[92,0,52,8,"_appLoadingIsMounted"],[92,6,52,8,"_appLoadingIsMounted"],[92,26,52,28],[92,29,52,31],[92,34,52,8],[93,0,53,8],[93,55,53,40,"once"],[93,59,53,8],[93,60,53,45],[93,79,53,8],[93,81,53,66],[93,87,53,71,"_subscribeToGlobalErrors"],[93,111,53,8],[94,0,54,8],[94,55,54,40,"once"],[94,59,54,8],[94,60,54,45],[94,82,54,8],[94,84,54,69],[94,90,54,74,"_unsubscribeFromGlobalErrors"],[94,118,54,8],[95,0,55,8],[95,12,55,13,"state"],[95,17,55,8],[95,20,55,21],[96,0,56,12,"error"],[96,8,56,12,"error"],[96,13,56,17],[96,15,56,19],[97,0,55,21],[97,7,55,8],[98,0,31,23],[99,0,58,5],[103,40,69,22,"error"],[103,45],[103,47,69,29,"_errorInfo"],[103,57],[103,59,69,41],[104,0,70,8],[104,12,70,12,"_appLoadingIsMounted"],[104,32,70,8],[104,34,70,34],[105,0,71,12,"finishedAsync"],[105,10,71,12,"finishedAsync"],[105,23,71,25],[106,0,72,9],[108,0,73,8],[108,14,73,14,"error"],[108,19,73,8],[109,0,74,5],[112,31,75,13],[113,0,76,8],[113,12,76,12],[113,17,76,17,"state"],[113,22,76,12],[113,23,76,23,"error"],[113,28,76,8],[113,30,76,30],[114,0,77,12],[114,17,77,19],[114,21,77,12],[115,0,78,9],[115,9,76,8],[115,15,79,13],[116,0,80,12],[116,17,80,19],[116,22,80,24,"props"],[116,27,80,19],[116,28,80,30,"children"],[116,36,80,12],[117,0,81,9],[118,0,82,5],[121,47,63,36,"_error"],[121,53],[121,55,63,44],[122,0,64,8],[122,12,64,12,"_appLoadingIsMounted"],[122,32,64,8],[122,34,64,34],[123,0,65,12],[123,17,65,19],[124,0,65,21,"error"],[124,12,65,21,"error"],[124,17,65,26],[124,19,65,28],[125,0,65,19],[125,11,65,12],[126,0,66,9],[128,0,67,8],[128,15,67,15],[128,19,67,8],[129,0,68,5],[132,4,30,47,"React"],[132,19,30,53,"Component"],[132,28]],"functionMap":{"names":["<global>","finishedAsync","RootErrorBoundary","constructor","_subscribeToGlobalErrors","ErrorUtils.setGlobalHandler$argument_0","_unsubscribeFromGlobalErrors","getDerivedStateFromError","componentDidCatch","render"],"mappings":"AAA;ACI;CDI;eEqB;ICC;wCCE;wCCG;aDQ;SDC;4CGC;SHK;KDO;IKK;KLK;IMC;KNK;IOC;KPO;CFC"}},"type":"js/module"}]}