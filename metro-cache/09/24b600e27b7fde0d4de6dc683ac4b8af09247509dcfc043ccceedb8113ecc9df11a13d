{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/interopRequireWildcard","data":{"isAsync":false}},{"name":"react","data":{"isAsync":false}},{"name":"react-native","data":{"isAsync":false}},{"name":"./HeaderItems","data":{"isAsync":false}},{"name":"invariant","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  var _interopRequireWildcard = _$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/interopRequireWildcard\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.defaultOnOverflowMenuPress = exports.overflowMenuPressHandlerDropdownMenu = exports.overflowMenuPressHandlerPopupMenu = exports.overflowMenuPressHandlerActionSheet = exports.extractOverflowButtonData = void 0;\n\n  var React = _interopRequireWildcard(_$$_REQUIRE(_dependencyMap[2], \"react\"));\n\n  var _reactNative = _$$_REQUIRE(_dependencyMap[3], \"react-native\");\n\n  var _HeaderItems = _$$_REQUIRE(_dependencyMap[4], \"./HeaderItems\");\n\n  var _invariant = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[5], \"invariant\"));\n\n  var extractOverflowButtonData = function extractOverflowButtonData(hiddenButtons) {\n    var detectedElementTypes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [_HeaderItems.HiddenItem];\n\n    try {\n      return doExtractOverflowButtonData(hiddenButtons, detectedElementTypes);\n    } catch (err) {\n      throw new Error(\"There was an error extracting overflow button data from children of OverflowMenu.\\n      It's possible you didn't follow the limitation rules documented in readme.\\n      The nested error is: \" + err.message);\n    }\n  };\n\n  exports.extractOverflowButtonData = extractOverflowButtonData;\n\n  function doExtractOverflowButtonData(hiddenButtons, detectedElementTypes) {\n    var btnsData = React.Children.toArray(hiddenButtons).map(function (button) {\n      var props = button.props,\n          type = button.type;\n\n      if (detectedElementTypes.includes(type)) {\n        return extract(button);\n      }\n\n      if (typeof type === 'function') {\n        var nestedElement = type(props);\n\n        if (nestedElement && detectedElementTypes.includes(nestedElement.type)) {\n          return extract(nestedElement);\n        }\n      }\n\n      return false;\n    });\n    return btnsData.filter(Boolean);\n  }\n\n  var extract = function extract(element) {\n    var _element$props = element.props,\n        title = _element$props.title,\n        onPress = _element$props.onPress,\n        disabled = _element$props.disabled;\n    return disabled === true ? false : {\n      title: title,\n      onPress: onPress\n    };\n  };\n\n  var checkParams = function checkParams(hiddenButtons) {\n    (0, _invariant.default)(Array.isArray(hiddenButtons), 'hiddenButtons must be an array');\n  };\n\n  var overflowMenuPressHandlerActionSheet = function overflowMenuPressHandlerActionSheet(_ref) {\n    var hiddenButtons = _ref.hiddenButtons,\n        _ref$cancelButtonLabe = _ref.cancelButtonLabel,\n        cancelButtonLabel = _ref$cancelButtonLabe === void 0 ? 'Cancel' : _ref$cancelButtonLabe;\n    checkParams(hiddenButtons);\n    var actionTitles = hiddenButtons.map(function (btn) {\n      return btn.title;\n    });\n    actionTitles.unshift(cancelButtonLabel);\n\n    _reactNative.ActionSheetIOS.showActionSheetWithOptions({\n      options: actionTitles,\n      cancelButtonIndex: 0\n    }, function (buttonIndex) {\n      if (buttonIndex > 0) {\n        hiddenButtons[buttonIndex - 1].onPress();\n      }\n    });\n  };\n\n  exports.overflowMenuPressHandlerActionSheet = overflowMenuPressHandlerActionSheet;\n\n  var overflowMenuPressHandlerPopupMenu = function overflowMenuPressHandlerPopupMenu(_ref2) {\n    var hiddenButtons = _ref2.hiddenButtons,\n        overflowButtonRef = _ref2.overflowButtonRef;\n    checkParams(hiddenButtons);\n\n    _reactNative.UIManager.showPopupMenu((0, _reactNative.findNodeHandle)(overflowButtonRef), hiddenButtons.map(function (btn) {\n      return btn.title;\n    }), function (err) {\n      return console.debug('overflowBtn error', err);\n    }, function (eventName, index) {\n      if (eventName !== 'itemSelected' || typeof index !== 'number') {\n        return;\n      }\n\n      hiddenButtons[index].onPress();\n    });\n  };\n\n  exports.overflowMenuPressHandlerPopupMenu = overflowMenuPressHandlerPopupMenu;\n\n  var overflowMenuPressHandlerDropdownMenu = function overflowMenuPressHandlerDropdownMenu(_ref3) {\n    var children = _ref3.children,\n        overflowButtonRef = _ref3.overflowButtonRef,\n        _private_toggleMenu = _ref3._private_toggleMenu;\n\n    if (overflowButtonRef) {\n      overflowButtonRef.measureInWindow(function (x, y, width, height) {\n        _private_toggleMenu({\n          elements: children,\n          x: x + width,\n          y: y\n        });\n      });\n    } else {}\n  };\n\n  exports.overflowMenuPressHandlerDropdownMenu = overflowMenuPressHandlerDropdownMenu;\n\n  var defaultOnOverflowMenuPress = _reactNative.Platform.select({\n    ios: overflowMenuPressHandlerActionSheet,\n    default: overflowMenuPressHandlerDropdownMenu\n  });\n\n  exports.defaultOnOverflowMenuPress = defaultOnOverflowMenuPress;\n});","lineCount":134,"map":[[11,0,2,0],[13,0,3,0],[15,0,4,0],[17,0,5,0],[19,0,13,7],[19,6,13,13,"extractOverflowButtonData"],[19,31,13,38],[19,34,13,41],[19,43,13,13,"extractOverflowButtonData"],[19,68,13,41],[19,69,14,2,"hiddenButtons"],[19,82,13,41],[19,84,16,32],[20,0,16,32],[20,8,15,2,"detectedElementTypes"],[20,28,16,32],[20,99,15,73],[20,100,15,74,"HiddenItem"],[20,123,15,73],[20,124,16,32],[22,0,17,2],[22,8,17,6],[23,0,18,4],[23,13,18,11,"doExtractOverflowButtonData"],[23,40,18,38],[23,41,18,39,"hiddenButtons"],[23,54,18,38],[23,56,18,54,"detectedElementTypes"],[23,76,18,38],[23,77,18,4],[24,0,19,3],[24,5,17,2],[24,6,19,4],[24,13,19,11,"err"],[24,16,19,4],[24,18,19,16],[25,0,20,4],[25,12,20,10],[25,16,20,14,"Error"],[25,21,20,10],[25,219,23,29,"err"],[25,222,23,32],[25,223,23,33,"message"],[25,230,20,10],[25,231,20,4],[26,0,25,3],[27,0,26,1],[27,3,13,7],[31,0,28,0],[31,11,28,9,"doExtractOverflowButtonData"],[31,38,28,0],[31,39,29,2,"hiddenButtons"],[31,52,28,0],[31,54,30,2,"detectedElementTypes"],[31,74,28,0],[31,76,31,29],[32,0,33,2],[32,8,33,8,"btnsData"],[32,16,33,16],[32,19,33,19,"React"],[32,24,33,24],[32,25,33,25,"Children"],[32,33,33,19],[32,34,33,34,"toArray"],[32,41,33,19],[32,42,33,42,"hiddenButtons"],[32,55,33,19],[32,57,33,57,"map"],[32,60,33,19],[32,61,33,61],[32,71,33,62,"button"],[32,77,33,61],[32,79,33,73],[33,0,33,73],[33,10,34,12,"props"],[33,15,33,73],[33,18,34,28,"button"],[33,24,33,73],[33,25,34,12,"props"],[33,30,33,73],[34,0,33,73],[34,10,34,19,"type"],[34,14,33,73],[34,17,34,28,"button"],[34,23,33,73],[34,24,34,19,"type"],[34,28,33,73],[36,0,35,4],[36,10,35,8,"detectedElementTypes"],[36,30,35,28],[36,31,35,29,"includes"],[36,39,35,8],[36,40,35,38,"type"],[36,44,35,8],[36,45,35,4],[36,47,35,45],[37,0,36,6],[37,15,36,13,"extract"],[37,22,36,20],[37,23,36,21,"button"],[37,29,36,20],[37,30,36,6],[38,0,37,5],[40,0,39,4],[40,10,39,8],[40,17,39,15,"type"],[40,21,39,8],[40,26,39,24],[40,36,39,4],[40,38,39,36],[41,0,40,6],[41,12,40,12,"nestedElement"],[41,25,40,25],[41,28,40,28,"type"],[41,32,40,32],[41,33,40,33,"props"],[41,38,40,32],[41,39,40,6],[43,0,41,6],[43,12,41,10,"nestedElement"],[43,25,41,23],[43,29,41,27,"detectedElementTypes"],[43,49,41,47],[43,50,41,48,"includes"],[43,58,41,27],[43,59,41,57,"nestedElement"],[43,72,41,70],[43,73,41,71,"type"],[43,77,41,27],[43,78,41,6],[43,80,41,78],[44,0,42,8],[44,17,42,15,"extract"],[44,24,42,22],[44,25,42,23,"nestedElement"],[44,38,42,22],[44,39,42,8],[45,0,43,7],[46,0,44,5],[48,0,45,4],[48,13,45,11],[48,18,45,4],[49,0,46,3],[49,5,33,19],[49,6,33,2],[50,0,48,2],[50,11,48,9,"btnsData"],[50,19,48,17],[50,20,48,18,"filter"],[50,26,48,9],[50,27,48,25,"Boolean"],[50,34,48,9],[50,35,48,2],[51,0,49,1],[53,0,51,0],[53,6,51,6,"extract"],[53,13,51,13],[53,16,51,16],[53,25,51,6,"extract"],[53,32,51,16],[53,33,51,17,"element"],[53,40,51,16],[53,42,51,49],[54,0,51,49],[54,25,54,6,"element"],[54,32,51,49],[54,33,53,4,"props"],[54,38,51,49],[55,0,51,49],[55,8,53,13,"title"],[55,13,51,49],[55,31,53,13,"title"],[55,36,51,49],[56,0,51,49],[56,8,53,20,"onPress"],[56,15,51,49],[56,33,53,20,"onPress"],[56,40,51,49],[57,0,51,49],[57,8,53,29,"disabled"],[57,16,51,49],[57,34,53,29,"disabled"],[57,42,51,49],[58,0,55,2],[58,11,55,9,"disabled"],[58,19,55,17],[58,24,55,22],[58,28,55,9],[58,31,55,29],[58,36,55,9],[58,39,55,37],[59,0,55,39,"title"],[59,6,55,39,"title"],[59,11,55,44],[59,13,55,39,"title"],[59,18,55,37],[60,0,55,46,"onPress"],[60,6,55,46,"onPress"],[60,13,55,53],[60,15,55,46,"onPress"],[61,0,55,37],[61,5,55,2],[62,0,56,1],[62,3,51,0],[64,0,66,0],[64,6,66,6,"checkParams"],[64,17,66,17],[64,20,66,20],[64,29,66,6,"checkParams"],[64,40,66,20],[64,41,66,21,"hiddenButtons"],[64,54,66,20],[64,56,66,39],[65,0,67,2],[65,28,67,12,"Array"],[65,33,67,17],[65,34,67,18,"isArray"],[65,41,67,12],[65,42,67,26,"hiddenButtons"],[65,55,67,12],[65,56,67,2],[65,58,67,42],[65,90,67,2],[66,0,68,1],[66,3,66,0],[68,0,70,7],[68,6,70,13,"overflowMenuPressHandlerActionSheet"],[68,41,70,48],[68,44,70,51],[68,53,70,13,"overflowMenuPressHandlerActionSheet"],[68,88,70,51],[68,95,73,33],[69,0,73,33],[69,8,71,2,"hiddenButtons"],[69,21,73,33],[69,29,71,2,"hiddenButtons"],[69,42,73,33],[70,0,73,33],[70,37,72,2,"cancelButtonLabel"],[70,54,73,33],[71,0,73,33],[71,8,72,2,"cancelButtonLabel"],[71,25,73,33],[71,63,72,22],[71,71,73,33],[72,0,74,2,"checkParams"],[72,4,74,2,"checkParams"],[72,15,74,13],[72,16,74,14,"hiddenButtons"],[72,29,74,13],[72,30,74,2],[73,0,75,2],[73,8,75,6,"actionTitles"],[73,20,75,18],[73,23,75,21,"hiddenButtons"],[73,36,75,34],[73,37,75,35,"map"],[73,40,75,21],[73,41,75,39],[73,51,75,40,"btn"],[73,54,75,39],[74,0,75,39],[74,13,75,48,"btn"],[74,16,75,51],[74,17,75,52,"title"],[74,22,75,39],[75,0,75,39],[75,5,75,21],[75,6,75,2],[76,0,76,2,"actionTitles"],[76,4,76,2,"actionTitles"],[76,16,76,14],[76,17,76,15,"unshift"],[76,24,76,2],[76,25,76,23,"cancelButtonLabel"],[76,42,76,2],[78,0,78,2,"ActionSheetIOS"],[78,32,78,17,"showActionSheetWithOptions"],[78,58,78,2],[78,59,79,4],[79,0,80,6,"options"],[79,6,80,6,"options"],[79,13,80,13],[79,15,80,15,"actionTitles"],[79,27,79,4],[80,0,81,6,"cancelButtonIndex"],[80,6,81,6,"cancelButtonIndex"],[80,23,81,23],[80,25,81,25],[81,0,79,4],[81,5,78,2],[81,7,83,4],[81,17,83,5,"buttonIndex"],[81,28,83,4],[81,30,83,29],[82,0,84,6],[82,10,84,10,"buttonIndex"],[82,21,84,21],[82,24,84,24],[82,25,84,6],[82,27,84,27],[83,0,85,8,"hiddenButtons"],[83,8,85,8,"hiddenButtons"],[83,21,85,21],[83,22,85,22,"buttonIndex"],[83,33,85,33],[83,36,85,36],[83,37,85,21],[83,38,85,8],[83,39,85,39,"onPress"],[83,46,85,8],[84,0,86,7],[85,0,87,5],[85,5,78,2],[86,0,89,1],[86,3,70,7],[90,0,91,7],[90,6,91,13,"overflowMenuPressHandlerPopupMenu"],[90,39,91,46],[90,42,91,49],[90,51,91,13,"overflowMenuPressHandlerPopupMenu"],[90,84,91,49],[90,92,94,33],[91,0,94,33],[91,8,92,2,"hiddenButtons"],[91,21,94,33],[91,30,92,2,"hiddenButtons"],[91,43,94,33],[92,0,94,33],[92,8,93,2,"overflowButtonRef"],[92,25,94,33],[92,34,93,2,"overflowButtonRef"],[92,51,94,33],[93,0,95,2,"checkParams"],[93,4,95,2,"checkParams"],[93,15,95,13],[93,16,95,14,"hiddenButtons"],[93,29,95,13],[93,30,95,2],[95,0,97,2,"UIManager"],[95,27,97,12,"showPopupMenu"],[95,40,97,2],[95,41,98,4],[95,74,98,19,"overflowButtonRef"],[95,91,98,4],[95,92,97,2],[95,94,99,4,"hiddenButtons"],[95,107,99,17],[95,108,99,18,"map"],[95,111,99,4],[95,112,99,22],[95,122,99,23,"btn"],[95,125,99,22],[96,0,99,22],[96,13,99,31,"btn"],[96,16,99,34],[96,17,99,35,"title"],[96,22,99,22],[97,0,99,22],[97,5,99,4],[97,6,97,2],[97,8,100,4],[97,18,100,5,"err"],[97,21,100,4],[98,0,100,4],[98,13,100,13,"console"],[98,20,100,20],[98,21,100,21,"debug"],[98,26,100,13],[98,27,100,27],[98,46,100,13],[98,48,100,48,"err"],[98,51,100,13],[98,52,100,4],[99,0,100,4],[99,5,97,2],[99,7,101,4],[99,17,101,5,"eventName"],[99,26,101,4],[99,28,101,24,"index"],[99,33,101,4],[99,35,101,43],[100,0,102,6],[100,10,102,10,"eventName"],[100,19,102,19],[100,24,102,24],[100,38,102,10],[100,42,102,42],[100,49,102,49,"index"],[100,54,102,42],[100,59,102,59],[100,67,102,6],[100,69,102,69],[101,0,103,8],[102,0,104,7],[104,0,105,6,"hiddenButtons"],[104,6,105,6,"hiddenButtons"],[104,19,105,19],[104,20,105,20,"index"],[104,25,105,19],[104,26,105,6],[104,27,105,27,"onPress"],[104,34,105,6],[105,0,106,5],[105,5,97,2],[106,0,108,1],[106,3,91,7],[110,0,110,7],[110,6,110,13,"overflowMenuPressHandlerDropdownMenu"],[110,42,110,49],[110,45,110,52],[110,54,110,13,"overflowMenuPressHandlerDropdownMenu"],[110,90,110,52],[110,98,114,33],[111,0,114,33],[111,8,111,2,"children"],[111,16,114,33],[111,25,111,2,"children"],[111,33,114,33],[112,0,114,33],[112,8,112,2,"overflowButtonRef"],[112,25,114,33],[112,34,112,2,"overflowButtonRef"],[112,51,114,33],[113,0,114,33],[113,8,113,2,"_private_toggleMenu"],[113,27,114,33],[113,36,113,2,"_private_toggleMenu"],[113,55,114,33],[115,0,115,2],[115,8,115,6,"overflowButtonRef"],[115,25,115,2],[115,27,115,25],[116,0,116,4,"overflowButtonRef"],[116,6,116,4,"overflowButtonRef"],[116,23,116,21],[116,24,116,22,"measureInWindow"],[116,39,116,4],[116,40,116,38],[116,50,116,39,"x"],[116,51,116,38],[116,53,116,42,"y"],[116,54,116,38],[116,56,116,45,"width"],[116,61,116,38],[116,63,116,52,"height"],[116,69,116,38],[116,71,116,63],[117,0,117,6,"_private_toggleMenu"],[117,8,117,6,"_private_toggleMenu"],[117,27,117,25],[117,28,117,26],[118,0,117,28,"elements"],[118,10,117,28,"elements"],[118,18,117,36],[118,20,117,38,"children"],[118,28,117,26],[119,0,117,48,"x"],[119,10,117,48,"x"],[119,11,117,49],[119,13,117,51,"x"],[119,14,117,52],[119,17,117,55,"width"],[119,22,117,26],[120,0,117,62,"y"],[120,10,117,62,"y"],[120,11,117,63],[120,13,117,62,"y"],[121,0,117,26],[121,9,117,25],[121,10,117,6],[122,0,118,5],[122,7,116,4],[123,0,119,3],[123,5,115,2],[123,11,119,9],[123,12,121,3],[124,0,122,1],[124,3,110,7],[128,0,124,7],[128,6,124,13,"defaultOnOverflowMenuPress"],[128,32,124,39],[128,35,124,42,"Platform"],[128,57,124,51,"select"],[128,63,124,42],[128,64,124,58],[129,0,125,2,"ios"],[129,4,125,2,"ios"],[129,7,125,5],[129,9,125,7,"overflowMenuPressHandlerActionSheet"],[129,44,124,58],[130,0,126,2,"default"],[130,4,126,2,"default"],[130,11,126,9],[130,13,126,11,"overflowMenuPressHandlerDropdownMenu"],[131,0,124,58],[131,3,124,42],[131,4,124,7]],"functionMap":{"names":["<global>","extractOverflowButtonData","doExtractOverflowButtonData","React.Children.toArray.map$argument_0","extract","checkParams","overflowMenuPressHandlerActionSheet","hiddenButtons.map$argument_0","ActionSheetIOS.showActionSheetWithOptions$argument_1","overflowMenuPressHandlerPopupMenu","UIManager.showPopupMenu$argument_2","UIManager.showPopupMenu$argument_3","overflowMenuPressHandlerDropdownMenu","overflowButtonRef.measureInWindow$argument_0"],"mappings":"AAA;yCCY;CDa;AEE;6DCK;GDa;CFG;gBIE;CJK;oBKU;CLE;mDME;uCCK,kBD;IEQ;KFI;CNE;iDSE;sBFQ,kBE;ICC,gDD;IEC;KFK;CTE;oDYE;sCCM;KDE;CZI"}},"type":"js/module"}]}